# ═══════════════════════════════════════════════════════
# S3 Documentation MCP Server Configuration
# ═══════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────
# S3 Configuration (AWS S3, MinIO, Scaleway, DigitalOcean Spaces, etc.)
# ───────────────────────────────────────────────────────

# Custom S3 endpoint (optional, leave empty for AWS S3)
# Examples:
#   MinIO: http://localhost:9000
#   Scaleway: https://s3.fr-par.scw.cloud
#   DigitalOcean Spaces: https://fra1.digitaloceanspaces.com
S3_ENDPOINT=

# S3 Region
S3_REGION=us-east-1

# S3 Credentials
S3_ACCESS_KEY_ID=your-access-key-here
S3_SECRET_ACCESS_KEY=your-secret-key-here

# Bucket name
S3_BUCKET_NAME=your-bucket-name

# Prefix in bucket (optional)
S3_PREFIX=docs/

# Force Path Style (required for MinIO and some S3-compatible services)
S3_FORCE_PATH_STYLE=false

# ───────────────────────────────────────────────────────
# Embeddings Configuration
# ───────────────────────────────────────────────────────

# Embedding provider: ollama | openai
# Default: ollama (local embeddings)
EMBEDDING_PROVIDER=ollama

# ───────────────────────────────────────────────────────
# Ollama Configuration (Local Embeddings)
# ───────────────────────────────────────────────────────
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# ───────────────────────────────────────────────────────
# OpenAI Configuration (Cloud Embeddings)
# Only required if EMBEDDING_PROVIDER=openai
# ───────────────────────────────────────────────────────
# OpenAI API Key (get it from https://platform.openai.com/api-keys)
OPENAI_API_KEY=

# OpenAI embedding model: text-embedding-3-small | text-embedding-3-large
# - text-embedding-3-small: Faster, cheaper, 1536 dimensions
# - text-embedding-3-large: More accurate, 3072 dimensions
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ───────────────────────────────────────────────────────
# RAG Configuration
# ───────────────────────────────────────────────────────
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_RESULTS=4

# Minimum similarity threshold (0-1)
# ⚠️  IMPORTANT: Isolated word embeddings give scores ~0.50
#    even when the word is in the document. Use complete questions!
#
# Recommendations by query type:
# - Questions/sentences: 0.50-0.60 (e.g., "How does X work?")
# - Keywords only: 0.30-0.40 (e.g., "authentication")
# - Very strict: 0.70+ (only for precise searches)
#
MIN_SIMILARITY_SCORE=0.35

# ───────────────────────────────────────────────────────
# Synchronization Configuration
# ───────────────────────────────────────────────────────
# Mode: startup | periodic | manual
SYNC_MODE=startup

# Periodic synchronization interval (in minutes)
SYNC_INTERVAL_MINUTES=5

# Enable embeddings cache
ENABLE_EMBEDDINGS_CACHE=true

# ───────────────────────────────────────────────────────
# Vector Store Configuration
# ───────────────────────────────────────────────────────
VECTOR_STORE_PATH=./data/hnswlib-store

# ───────────────────────────────────────────────────────
# Server Configuration
# ───────────────────────────────────────────────────────
# HTTP server port
PORT=3000

# Host (0.0.0.0 to listen on all interfaces, 127.0.0.1 for localhost only)
HOST=0.0.0.0

# ───────────────────────────────────────────────────────
# Logging
# ───────────────────────────────────────────────────────
# Log level: debug | info | warn | error
LOG_LEVEL=info

# ───────────────────────────────────────────────────────
# Authentication (Optional)
# ───────────────────────────────────────────────────────
# Enable API key authentication
ENABLE_AUTH=false

# API key for authentication (required if ENABLE_AUTH=true)
# Example: my-secret-key-123
MCP_API_KEY=

